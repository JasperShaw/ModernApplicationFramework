<internals:ToolBarHostControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                          xmlns:local="clr-namespace:ModernApplicationFramework.Controls"
                          xmlns:themes="clr-namespace:ModernApplicationFramework.Core.Themes"
                          xmlns:converters="clr-namespace:ModernApplicationFramework.Core.Converters"
                          xmlns:internals="clr-namespace:ModernApplicationFramework.Controls.Internals"
                          xmlns:window="clr-namespace:ModernApplicationFramework.Controls.Windows">


    <internals:ToolBarHostControl.Resources>
        <converters:FullScreenToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </internals:ToolBarHostControl.Resources>
    <Control.Template>
        <ControlTemplate TargetType="{x:Type internals:ToolBarHostControl}">
            <Grid SnapsToDevicePixels="True">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Border Name="TopDockBorder" Visibility="{Binding RelativeSource={RelativeSource AncestorType={x:Type window:MainWindow}}, Path=FullScreen, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Grid.Row="0" Grid.ColumnSpan="3" Padding="9,1,6,1" Background="{DynamicResource {x:Static themes:EnvironmentColors.CommandShelfBackground}}">
                    <local:ToolBarTray IsMainToolBarTray="True" Background="Transparent" x:Name="TopDockTray"/>
                </Border>
                <Border Name="LeftDockBorder" Visibility="{Binding RelativeSource={RelativeSource AncestorType={x:Type window:MainWindow}}, Path=FullScreen, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Grid.Row="1" Grid.Column="0" Padding="2,0,1,0" Background="{DynamicResource {x:Static themes:EnvironmentColors.CommandShelfBackground}}">
                    <local:ToolBarTray IsMainToolBarTray="True" Background="Transparent" x:Name="LeftDockTray" Orientation="Vertical"/>
                </Border>
                <AdornerDecorator Grid.Row="1" Grid.Column="1">
                    <ContentPresenter Content="{Binding RelativeSource={RelativeSource AncestorType={x:Type window:MainWindow}}, Path=Content}"/>
                </AdornerDecorator>
                <Border Name="RightDockBorder" Visibility="{Binding RelativeSource={RelativeSource AncestorType={x:Type window:MainWindow}}, Path=FullScreen, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Grid.Row="1" Grid.Column="2" Padding="2,0,1,0" Background="{DynamicResource {x:Static themes:EnvironmentColors.CommandShelfBackground}}">
                    <local:ToolBarTray x:Name="RightDockTray" Orientation="Vertical" IsMainToolBarTray="True" Background="Transparent"/>
                </Border>
                <Border Name="BottomDockBorder" Visibility="{Binding RelativeSource={RelativeSource AncestorType={x:Type window:MainWindow}}, Path=FullScreen, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Grid.Row="2" Grid.ColumnSpan="3" Padding="9,2,6,1" Background="{DynamicResource {x:Static themes:EnvironmentColors.CommandShelfBackground}}">
                    <local:ToolBarTray x:Name="BottomDockTray" IsMainToolBarTray="True" Background="Transparent"/>
                </Border>
            </Grid>
            <ControlTemplate.Triggers>
                <DataTrigger Binding="{Binding ElementName=LeftDockTray, Path=ContainsVisibleToolBars}" Value="False">
                    <Setter TargetName="LeftDockBorder" Property="Border.Padding" Value="0"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding ElementName=TopDockTray, Path=ContainsVisibleToolBars}" Value="False">
                    <Setter TargetName="TopDockBorder" Property="Border.Padding" Value="0"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding ElementName=RightDockTray, Path=ContainsVisibleToolBars}" Value="False">
                    <Setter TargetName="RightDockBorder" Property="Border.Padding" Value="0"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding ElementName=BottomDockTray, Path=ContainsVisibleToolBars}" Value="False">
                    <Setter TargetName="BottomDockBorder" Property="Border.Padding" Value="0"/>
                </DataTrigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </Control.Template>
    

</internals:ToolBarHostControl>



